{
  "uid": "spring-boot-bot",
  "title": "Spring Boot Bot",
  "timezone": "browser",
  "schemaVersion": 27,
  "version": 2,
  "refresh": "5s",
  "tags": ["spring", "actuator"],
  "panels": [
    {
      "type": "graph",
      "title": "HTTP Requests (per second)",
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "rate(http_server_requests_seconds_count[1m])",
          "legendFormat": "{{uri}} {{method}}",
          "refId": "A"
        }
      ],
      "xaxis": { "mode": "time" },
      "yaxes": [
        { "format": "reqps", "label": "req/s", "min": 0 },
        { "show": false }
      ]
    },
    {
      "type": "graph",
      "title": "Request Duration (95th percentile)",
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "histogram_quantile(0.95, sum(rate(http_server_requests_seconds_bucket[5m])) by (le, uri, method))",
          "legendFormat": "{{uri}} {{method}}",
          "refId": "B"
        }
      ],
      "xaxis": { "mode": "time" },
      "yaxes": [
        { "format": "s", "label": "Duration (s)", "min": 0 },
        { "show": false }
      ]
    },
    {
      "type": "graph",
      "title": "JVM Memory Used",
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "jvm_memory_used_bytes{area=\"heap\"}",
          "legendFormat": "heap",
          "refId": "C"
        },
        {
          "expr": "jvm_memory_used_bytes{area=\"nonheap\"}",
          "legendFormat": "nonheap",
          "refId": "D"
        }
      ],
      "xaxis": { "mode": "time" },
      "yaxes": [
        { "format": "bytes", "label": "Memory", "min": 0 },
        { "show": false }
      ]
    },
    {
      "type": "graph",
      "title": "JVM Threads",
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "jvm_threads_live_threads",
          "legendFormat": "Live Threads",
          "refId": "E"
        },
        {
          "expr": "jvm_threads_peak_threads",
          "legendFormat": "Peak Threads",
          "refId": "F"
        }
      ],
      "xaxis": { "mode": "time" },
      "yaxes": [
        { "format": "short", "label": "Threads", "min": 0 },
        { "show": false }
      ]
    },
    {
      "type": "graph",
      "title": "JVM GC Time (per second)",
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "rate(jvm_gc_pause_seconds_sum[1m])",
          "legendFormat": "GC Pause Time",
          "refId": "G"
        }
      ],
      "xaxis": { "mode": "time" },
      "yaxes": [
        { "format": "s", "label": "GC Time (s)", "min": 0 },
        { "show": false }
      ]
    },
    {
      "type": "stat",
      "title": "Uptime",
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "time() - process_start_time_seconds",
          "legendFormat": "Uptime",
          "refId": "H"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "s",
          "decimals": 0
        },
        "overrides": []
      },
      "options": {
        "reduceOptions": {
          "calcs": ["last"],
          "fields": "",
          "values": false
        },
        "orientation": "horizontal",
        "textMode": "value",
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto"
      }
    }
  ],
  "time": {
    "from": "now-5m",
    "to": "now"
  },
  "templating": {
    "list": []
  }
}
